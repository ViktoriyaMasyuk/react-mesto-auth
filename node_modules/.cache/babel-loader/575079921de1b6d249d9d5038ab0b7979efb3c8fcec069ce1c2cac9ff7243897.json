{"ast":null,"code":"import _slicedToArray from\"/Users/vika/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import api from\"../utils/Api\";import Card from\"./Card.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(props){var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),userInfo=_React$useState2[0],setUserInfo=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),cards=_React$useState4[0],setCards=_React$useState4[1];useEffect(function(){Promise.all([api.getUserInfo(),api.getInitialCards()]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),userInfo=_ref2[0],card=_ref2[1];setUserInfo({userName:userInfo.name,userDescription:userInfo.about,userAvatar:userInfo.avatar});setCards(card);}).catch(function(err){console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"profile__button\",onClick:props.onEditAvatar,children:/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:userInfo.userAvatar,alt:\"\\u0424\\u043E\\u0442\\u043E \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F\"//style={{ backgroundImage: `url(${userInfo.avatar})` }}\n})}),/*#__PURE__*/_jsx(\"h1\",{className:\"profile__title\",children:userInfo.userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button button-hover\",type:\"button\",onClick:props.onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__subtitle\",children:userInfo.userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",type:\"button\",onClick:props.onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,link:card.link,name:card.name,likes:card.likes.length},card.id);})})]});}export default Main;","map":{"version":3,"names":["React","useEffect","api","Card","jsx","_jsx","jsxs","_jsxs","Main","props","_React$useState","useState","_React$useState2","_slicedToArray","userInfo","setUserInfo","_React$useState3","_React$useState4","cards","setCards","Promise","all","getUserInfo","getInitialCards","then","_ref","_ref2","card","userName","name","userDescription","about","userAvatar","avatar","catch","err","console","log","children","className","onClick","onEditAvatar","src","alt","type","onEditProfile","onAddPlace","map","link","likes","length","id"],"sources":["/Users/vika/dev/mesto-react/src/components/Main.js"],"sourcesContent":["import React, {useEffect} from \"react\";\nimport api from \"../utils/Api\";\nimport Card from \"./Card.js\"\n\nfunction Main(props) {\n\n  const [userInfo, setUserInfo] = React.useState({})\n  const [cards, setCards] = React.useState([])\nuseEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n  .then(([userInfo, card]) => {\n    setUserInfo({\n      userName: userInfo.name,\n      userDescription: userInfo.about,\n      userAvatar: userInfo.avatar,\n    })\n    setCards(card);\n  })\n  .catch((err) => {\n    console.log(err);\n  })\n  }, [])\n\n    return (\n        <main>\n      <section className=\"profile\">\n        <div className=\"profile__info\">\n          <button className=\"profile__button\"\n          onClick={props.onEditAvatar}>\n            <img\n              className=\"profile__avatar\"\n              src={userInfo.userAvatar}\n              alt=\"Фото профиля\"\n              //style={{ backgroundImage: `url(${userInfo.avatar})` }}\n            />\n          </button>\n          <h1 className=\"profile__title\">{userInfo.userName}</h1>\n          <button\n            className=\"profile__edit-button button-hover\"\n            type=\"button\"\n            onClick={props.onEditProfile}\n          ></button>\n          <p className=\"profile__subtitle\">{userInfo.userDescription}</p>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\"\n        onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"elements\">\n        {cards.map((card) => (          \n            <Card\n              key={card.id}\n              card={card}\n              link={card.link}\n              name={card.name}\n              likes={card.likes.length}\n            />\n          ))}\n        </section>\n\n    </main>\n    );\n}\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}