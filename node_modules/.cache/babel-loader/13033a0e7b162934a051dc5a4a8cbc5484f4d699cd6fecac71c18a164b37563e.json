{"ast":null,"code":"import React from \"react\";\nclass Api {\n  constructor(options) {\n    this.url = options.baseUrl;\n    this.headers = options.headers;\n  }\n  _getResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n  getUserInfo() {\n    return fetch(`${this.url}users/me/`, {\n      headers: this.headers\n    }).then(this._getResponse);\n  }\n  getInitialCards() {\n    return fetch(`${this.url}cards/`, {\n      headers: this.headers\n    }).then(this._getResponse);\n  }\n  updateUserInfo(body) {\n    return fetch(`${this.url}users/me/`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify(body)\n    }).then(this._getResponse);\n  }\n  addNewCard(body) {\n    return fetch(`${this.url}cards/`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify(body)\n    }).then(this._getResponse);\n  }\n  deleteCard(cardId) {\n    return fetch(`${this.url}cards/${cardId}/`, {\n      method: \"DELETE\",\n      headers: this.headers\n    }).then(this._getResponse);\n  }\n  setLike(cardId) {\n    return fetch(`${this.url}cards/${cardId}/likes`, {\n      method: \"PUT\",\n      headers: this.headers\n    }).then(this._getResponse);\n  }\n  unsetLike(cardId) {\n    return fetch(`${this.url}cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: this.headers\n    }).then(this._getResponse);\n  }\n  changeAvatar(urlImage) {\n    return fetch(`${this.url}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: urlImage\n      })\n    }).then(this._getResponse);\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-64/\",\n  headers: {\n    authorization: \"ade0a831-d345-4d2c-8394-f99ed3b27f1b\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"names":["React","Api","constructor","options","url","baseUrl","headers","_getResponse","res","ok","json","Promise","reject","status","getUserInfo","fetch","then","getInitialCards","updateUserInfo","body","method","JSON","stringify","addNewCard","deleteCard","cardId","setLike","unsetLike","changeAvatar","urlImage","avatar","api","authorization"],"sources":["/Users/vika/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["import React from \"react\";\n\nclass Api {\n  constructor(options) {\n    this.url = options.baseUrl;\n    this.headers = options.headers;\n  }\n  _getResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this.url}users/me/`, {\n      headers: this.headers,\n    }).then(this._getResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}cards/`, {\n      headers: this.headers,\n    }).then(this._getResponse);\n  }\n  updateUserInfo(body) {\n    return fetch(`${this.url}users/me/`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify(body),\n      \n    }).then(this._getResponse);\n  }\n\n  addNewCard(body) {\n    return fetch(`${this.url}cards/`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify(body),\n    }).then(this._getResponse);\n  }\n  deleteCard(cardId) {\n    return fetch(`${this.url}cards/${cardId}/`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(this._getResponse);\n  }\n  setLike(cardId) {\n    return fetch(`${this.url}cards/${cardId}/likes`, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then(this._getResponse);\n  }\n  unsetLike(cardId) {\n    return fetch(`${this.url}cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(this._getResponse);\n  }\n  changeAvatar(urlImage) {\n    return fetch(`${this.url}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({ avatar: urlImage }),\n    }).then(this._getResponse);\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-64/\",\n  headers: {\n    authorization: \"ade0a831-d345-4d2c-8394-f99ed3b27f1b\",\n    \"Content-Type\": \"application/json\",\n  },\n});\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}