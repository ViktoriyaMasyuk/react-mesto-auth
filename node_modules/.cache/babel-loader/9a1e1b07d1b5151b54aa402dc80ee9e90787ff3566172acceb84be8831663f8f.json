{"ast":null,"code":"import _classCallCheck from\"/Users/vika/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/vika/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import React from\"react\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this.url=options.baseUrl;this.headers=options.headers;}_createClass(Api,[{key:\"_getResponse\",value:function _getResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this.url,\"users/me/\"),{headers:this.headers}).then(this._getResponse);}},{key:\"getInitialCards\",value:function getInitialCards(){return fetch(\"\".concat(this.url,\"cards/\"),{headers:this.headers}).then(this._getResponse);}},{key:\"updateUserInfo\",value:function updateUserInfo(body){return fetch(\"\".concat(this.url,\"users/me/\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify(body)}).then(this._getResponse);}},{key:\"addNewCard\",value:function addNewCard(body){return fetch(\"\".concat(this.url,\"cards/\"),{method:\"POST\",headers:this.headers,body:JSON.stringify(body)}).then(this._getResponse);}},{key:\"deleteCard\",value:function deleteCard(cardId){return fetch(\"\".concat(this.url,\"cards/\").concat(cardId,\"/\"),{method:\"DELETE\",headers:this.headers}).then(this._getResponse);}},{key:\"setLike\",value:function setLike(cardId){return fetch(\"\".concat(this.url,\"cards/\").concat(cardId,\"/likes\"),{method:\"PUT\",headers:this.headers});}},{key:\"unsetLike\",value:function unsetLike(cardId){return fetch(\"\".concat(this.url,\"cards/\").concat(cardId,\"/likes\"),{method:\"DELETE\",headers:this.headers});}},{key:\"changeAvatar\",value:function changeAvatar(urlImage){return fetch(\"\".concat(this.url,\"users/me/avatar\"),{method:\"PATCH\",headers:this.headers,body:JSON.stringify({avatar:urlImage})});}}]);return Api;}();var api=new Api({baseUrl:\"https://mesto.nomoreparties.co/v1/cohort-64/\",headers:{authorization:\"ade0a831-d345-4d2c-8394-f99ed3b27f1b\",\"Content-Type\":\"application/json\"}});export default api;","map":{"version":3,"names":["React","Api","options","_classCallCheck","url","baseUrl","headers","_createClass","key","value","_getResponse","res","ok","json","Promise","reject","concat","status","getUserInfo","fetch","then","getInitialCards","updateUserInfo","body","method","JSON","stringify","addNewCard","deleteCard","cardId","setLike","unsetLike","changeAvatar","urlImage","avatar","api","authorization"],"sources":["/Users/vika/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["import React from \"react\";\n\nclass Api {\n  constructor(options) {\n    this.url = options.baseUrl;\n    this.headers = options.headers;\n  }\n  _getResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this.url}users/me/`, {\n      headers: this.headers,\n    }).then(this._getResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}cards/`, {\n      headers: this.headers,\n    }).then(this._getResponse);\n  }\n  updateUserInfo(body) {\n    return fetch(`${this.url}users/me/`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify(body),\n    }).then(this._getResponse);\n  }\n\n  addNewCard(body) {\n    return fetch(`${this.url}cards/`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify(body),\n    }).then(this._getResponse);\n  }\n  deleteCard(cardId) {\n    return fetch(`${this.url}cards/${cardId}/`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(this._getResponse);\n  }\n  setLike(cardId) {\n    return fetch(`${this.url}cards/${cardId}/likes`, {\n      method: \"PUT\",\n      headers: this.headers,\n    });\n  }\n  unsetLike(cardId) {\n    return fetch(`${this.url}cards/${cardId}/likes`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    });\n  }\n  changeAvatar(urlImage) {\n    return fetch(`${this.url}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({ avatar: urlImage }),\n    });\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-64/\",\n  headers: {\n    authorization: \"ade0a831-d345-4d2c-8394-f99ed3b27f1b\",\n    \"Content-Type\": \"application/json\",\n  },\n});\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}